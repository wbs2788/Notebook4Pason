# 算法博弈论

[TOC]

## L1

### 博弈

player玩家、strategy策略、outcome结果、objective function目标函数、repeated/one-shot轮次。

需要注意的是结果与目标函数的异同：例如一群人在一起玩游戏，他们需要给一个数字，最终猜到他们所有数的平均数的2/3的人获得胜利，那么结果是输赢，目标函数则是平均数的2/3。

### 博弈实例

#### 囚徒困境

两个囚徒被捕，被分开关进两个房间，无法互相沟通。他们面临坦白或者沉默两个选择。但若双方坦白，双方各判4年；一方坦白一方沉默，则坦白的一方判1年，另一方判5年；双方沉默，则均判2年。

我们不妨设两人为A、B，不妨以A的视角来看看囚徒困境：

若B沉默，坦白判1年、沉默判2年，则显然选择坦白获刑更少；

若B坦白，坦白判4年、沉默判5年，则显然选择坦白获刑更少。

看来，A选择坦白，收益更大。那么B显然更倾向于选择坦白，最终两人均判8年。

| (A,B)    | 坦白 | 沉默 |
| -------- | ---- | ---- |
| **坦白** | 4,4  | 1,5  |
| **沉默** | 5,1  | 2,2  |

但是，不同人的目标函数可能不同，比如如果是一对母子，那么可能会导致母亲的目标函数是最小化孩子的入狱时间等等，因此不应该简单定义目标函数。

#### 污染治理

假设有$n$个国家进行污染治理，每个人可以选择治理或者放任。如果治理，那么需要承担3单位的做作业成本。若选择放任，则会对其他国家造成1单位的损失，在这里每个国家都想最小化自己的损失。试问每个人的最优策略是什么。

**分析**：定义若对于第$i$个参与者治理$s_i=1$，放任$s_i=0$，则其损失为：
$$
cost_i(s) = 3s_i+\sum_{j=1}^n(1-s_j)
$$
化简后得：
$$
cost_i(s)=2s_i+n-\sum_{j\ne i}s_j
$$
那么为了最小化损失，显然第$i$个国家趋向于放任。所以每个人都会趋向于放任。$\square$

### 概念

##### 策略

设$S_i$为第$i$个人可选择的策略集合，$s_i\in S_i$为其中的某一种策略。所有人的策略即为$S=S_1\times S_2\times \dots\times S_n$，$s\in S$表示其中的一种策略，即$s=(s_1,s_2,\dots,s_n)$，记$s_{-i}=(s_1,s_2,\dots,s_{i-1},s_{i+1},\dots,s_n)$，那么$s = (s_i,s_{-i})$。

##### 目标函数

每个人都需要优化一个函数，如果恒为正称为收益函数，恒为负则为费用函数。第$i$个人使用策略$s$的收益记为$u_i(s)$（费用则为$c_i(s)$）。

##### 对$i$的占优策略$s_i$

$$
对\forall s^{'}_i,s^{'}_{-i},有u_i(s_i,s^{'}_{-i})\geq u_i(s^{'}_i,s^{'}_{-i})
$$
##### 占优策略$s$

对于任意一个参与者$i$，都有$s_i$为对$i$的占优策略。

##### 无占优策略博弈

石头剪刀布、公地悲剧

**公地悲剧例：**

$n$个人，共享一条带宽。每个人可选择占用流量的多少$x_i\in[0,1]$。对第$i$个人，$u_i(s)=x_i(1-\sum_{j=1}^nx_j)$，如何最大化收益？

怎么算呢？
$$
u_i(s)=x_i(1-\sum_{j=1}^nx_j)=x_i(1-\sum_{j\ne i}x_j-x_i)
$$
由AM-GM不等式，选择$x_i=\frac{1}{n+1}$最好。

再计算社会福利。
$$
\sum_{i=1}^nu_i(s)=\sum_{i=1}^nx_i(1-\sum_{j=1}^nx_j)
$$


显然，每个人为$\frac{1}{2n}$更优。

所以应该有监管，每个人都一样拿$\frac{1}{2n}$，看着拿的多，实则g。

##### 最优反应

$$
\forall s^{'}_i\in S_i,有u_i(s_i,s_{-i})\geq u_i(s^{'}_i,s_{-i})
$$

##### 纯粹策略纳什均衡（Pure Strategy Nash Equilibrium)

对于一个策略$s\in S$,如果对于任意一个参与者$i$，都有$s_i$为最优反应，则称该策略为**纯粹策略纳什均衡（Pure Strategy Nash Equilibrium)**

##### 混合策略纳什均衡

对于一个混合策略向量$p$，对于任意参与者$i$和任意混合策略$p_i^{'}$，有

$$
\mathbb E_{s\sim p}(u_i(s_i,s_{-i}))\ge\mathbb E_{s_i^{'}\sim p_i^{'},s_{-i}\sim p_{-i} }(u_i(s_i^{'},s_{-i}))
$$
混合策略：是一个概率分布。

##### 纳什均衡定理

任何**有限参与者**与**有限策略集**均存在一个**混合策略纳什均衡**。

## L2

### 拍卖

一个拍卖，$n$个卖家，每个卖家有估值$v_i$，每个卖家的策略：报价$b_i$。拍卖者通过出价向量$b=(b_1,b_2,\dots,b_n)$决定获胜者和价格$p$。最终的买家$i$收益为为$v_i-p$。

#### 密封一价拍卖

胜者：最高价 价格：其报价

问题：没有占优策略。

#### 密封二价拍卖（维克里拍卖）

胜者：最高价 价格：第二名报价

每个人报价都是估值$v_i$时，即为占优策略。即对于$s_i$而言，无论自己的策略怎么变，只要在给定的别人的策略下，自己就能利用策略$s_i$获得更高的收益。

**证明**：

固定除第$i$个人的报价，设除第$i$个人最大报价为$V$，则若：

​	$V>v_i$，则失败，由定义效用为0。若减小或增大，收益永远小于等于0

​	$V\leq v_i$，则成功，收益为$v_i-V\geq 0$，且如果报价更高，收益仍不变，报价更低，收益不变或变为0。

综上，该策略是占优的。$\square$

### 机制设计

如何设计机制

私有/公开信息

设计者的目的：诚实、收益最大化、公平、社会福利最大化

需要博弈的观点

需不需要**钱**

例如：怎么调空调温度

可以选择中位数机制。

